import requests
import random
import time
ip =[
    '110.83.46.180:808',
    '110.73.52.167:8123',
    '188.232.104.190:53281',
    '219.151.207.70:8998',
    '27.8.162.114:808',
    '27.8.13.241:808',
    '121.22.252.49:8000',
    '110.248.71.200:80',
    '222.94.146.139:808',
    '222.94.147.124:808',
    '121.226.169.58:808',
    '122.194.218.87:808',
    '180.110.5.179:808',
    '60.187.74.72:8998',
    '125.118.67.39:808',
    '36.26.154.131:808',
    '115.215.69.214:808',
    '115.220.0.59:808',
    '183.153.18.253:808',
    '183.153.27.37:808',
    '60.167.23.197:808',
    '36.6.56.235:808',
    '60.167.135.239:808',
    '114.99.9.214:808',
    '114.99.8.14:808',
    '60.167.134.20:808',
    '223.245.199.211:808',
    '60.167.133.172:808',
    '36.249.30.139:808',
    '222.76.118.87:808',
    '27.157.82.242:808',
    '220.160.10.248:808',
    '222.76.118.31:808',
    '59.62.42.57:808',
    '59.54.226.110:8118',
    '111.76.224.129:808',
    '80.87.184.49:41258',
    '85.10.219.99:1080',
    '154.72.202.62:53281',
    '103.106.238.230:50941',
    '202.91.77.122:49878',
    '61.8.79.68:31859',
    '85.52.217.114:52055',
    '85.238.98.160:34167',
    '101.255.103.201:53281',
    '45.6.136.247:53281',
    '201.59.201.92:32721',
    '118.200.73.124:8080',
    '122.129.85.138:60052',
    '168.228.150.5:39280',
    '119.81.199.81:8123',
    '1.10.188.203:45476',
    '134.122.112.27:8080',
    '119.81.199.86:8123',
    '117.197.42.98:38711',
    '179.127.242.97:34920',
    '173.192.128.238:25',
    '178.215.190.239:60359',
    '182.71.102.215:3128',
    '118.172.201.89:31813',
    '186.46.136.70:43816',
    '161.202.226.195:80',
    '5.189.133.231:80',
    '176.113.126.127:39921',
    '185.128.37.14:8080',
    '203.202.245.62:80',
    '117.6.161.118:53281',
    '81.88.118.105:8118',
    '119.81.199.82:8123',
    '69.195.240.13:8080',
    '118.175.93.94:45175',
    '103.65.194.17:55716',
    '45.162.204.69:80',
    '85.117.61.186:49929',
    '166.249.185.135:37369',
    '213.6.227.38:46003',
    '195.209.131.19:33688',
    '50.193.9.202:53888',
    '119.81.199.83:31288',
    '196.1.184.6:53791',
    '223.165.1.170:43305',
    '36.89.183.245:57426',
    '186.42.186.202:48281',
    '78.38.115.210:60490',
    '140.227.167.60:3128',
    '139.255.123.194:4550',
    '190.103.178.13:8080',
    '178.213.130.101:52658',
    '45.63.43.103:80',
    '107.190.148.202:50854',
    '194.5.192.154:80',
    '144.217.118.206:8080',
    '165.227.84.169:80',
    '118.174.220.152:31701',
    '5.2.164.205:59914',
    '23.102.166.13:3128',
    '91.191.53.106:47581',
    '91.203.88.102:54182',
    '80.211.115.69:3128',
    '142.93.197.146:80',
    '185.79.242.253:50828',
    '47.91.166.84:80',
    '92.46.58.110:48144',
    '93.117.72.27:32468',
    '155.0.181.254:36620',
    '187.109.120.30:38653',
    '213.6.226.202:58154',
    '182.253.82.157:43472',
    '103.91.128.89:33746',
    '203.77.252.250:54598',
    '95.68.30.207:53281',
    '131.196.141.2:33729',
    '103.3.225.114:30989',
    '128.199.227.116:47503',
    '49.128.178.22:59378',
    '125.25.165.97:39021',
    '27.116.51.115:8080',
    '36.255.211.1:56987',
    '177.11.68.22:45659',
    '31.192.140.112:53281',
    '167.71.123.107:3128',
    '118.173.232.5:34413',
    '117.58.241.164:52636',
    '36.89.187.193:50689',
    '47.91.89.6:80',
    '41.160.252.116:53281',
    '103.43.42.85:30477',
    '80.91.118.129:53281',
    '103.74.70.142:35754',
    '190.115.5.231:47519',
    '1.0.139.36:8080',
    '95.79.99.148:3128',
    '103.216.48.83:8080',
    '93.88.216.51:48167',
    '202.138.236.35:31173',
    '45.226.48.113:60143',
    '116.0.2.162:43927',
    '91.191.190.38:37764',
    '103.108.157.98:8080',
    '143.255.40.106:53706',
    '94.232.252.30:3128',
    '179.124.19.9:38163',
    '195.9.188.78:53281',
    '118.97.193.203:30309',
    '118.174.220.130:41419',
    '182.52.51.47:41146',
    '103.102.28.134:38166',
    '85.10.219.98:1080',
    '103.94.171.134:46276',
    '212.56.218.90:55983',
    '217.169.88.229:49319',
    '178.151.205.154:50607',
    '176.101.89.226:33470',
    '88.101.209.96:61664',
    '177.54.159.68:8080',
    '110.232.95.45:8087',
    '186.219.248.156:55286',
    '123.49.49.166:23500',
    '134.35.231.176:8080',
    '171.5.160.19:8080',
    '151.253.165.70:8080',
    '45.236.130.214:8080',
    '77.58.96.177:80',
    '80.188.239.106:39271',
    '123.200.20.242:58847',
    '149.28.133.153:8080',
    '115.127.109.2:45067',
    '201.234.185.147:37743',
    '144.91.116.171:443',
    '128.199.143.66:3128',
    '24.37.245.42:35524',
    '207.154.231.213:8080',
    '14.201.234.2:47648',
    '195.181.210.160:8080',
    '200.89.178.196:8080',
    '80.187.140.26:8080',
    '186.250.117.234:36241',
    '138.197.157.45:8080',
    '81.163.113.93:8080',
    '104.41.38.129:80',
    '191.87.175.174:8080',
    '159.203.28.58:3128',
    '102.165.69.201:8080',
    '181.48.79.162:57302',
    '191.252.100.178:8080',
    '185.44.231.2:34244',
    '191.232.233.45:8080',
    '200.76.121.95:8080',
    '119.42.86.221:8080',
    '5.255.26.222:8080',
    '144.217.163.138:8080',
    '103.221.254.44:56471',
    '80.91.17.113:41258',
    '164.77.147.93:53281',
    '114.134.172.50:60664',
    '46.146.197.19:50611',
    '41.89.162.8:43212',
    '36.89.243.187:39796',
    '182.52.90.117:45535',
    '188.235.255.70:32994',
    '197.232.69.137:51365',
    '150.129.201.30:6666',
    '70.35.213.229:36127',
    '216.10.242.231:80',
    '144.76.214.154:1080',
    '180.180.175.70:59692',
    '85.208.200.165:36369',
    '46.162.193.21:34771',
    '136.228.128.6:52182',
    '110.39.187.50:49850',
    '189.9.55.7:8080',
    '118.175.93.148:42409',
    '45.32.119.47:80',
    '45.117.237.158:8080',
    '125.24.32.226:8080',
    '102.141.187.123:8080',
    '45.77.233.125:3128',
    '177.134.231.93:8080',
    '148.101.44.100:999',
    '14.207.161.119:8080',
    '103.135.38.236:8080',
    '41.66.75.111:8080',
    '103.234.252.3:3888',
    '189.115.158.217:8080',
    '36.69.2.96:8080',
    '197.54.86.224:8080',
    '202.44.211.114:8080',
    '198.58.10.173:8080',
    '177.179.34.34:8080',
    '110.138.232.72:8080',
    '35.203.17.121:3128',
    '178.44.177.145:8081',
    '68.183.180.28:1080',
    '128.199.148.98:3128',
    '197.54.28.35:8080',
    '180.252.194.184:8080',
    '117.254.178.85:8080',
    '81.163.41.30:8081',
    '177.152.169.12:8080',
    '139.162.132.39:8080',
    '18.229.248.53:8888',
    '178.128.235.217:1080',
    '163.172.69.204:3128',
    '165.227.242.245:3128',
    '45.77.5.126:3128',
    '45.163.134.68:8080',
    '197.59.19.191:8080',
    '148.101.23.95:8080',
    '182.253.74.93:8080',
    '183.89.110.101:8080',
    '223.206.58.234:8080',
    '149.28.158.58:3128',
    '36.81.28.236:8080',
    '165.16.22.244:8080',
    '125.166.168.203:8080',
    '186.3.76.227:999',
    '178.128.193.240:1080',
    '171.6.157.140:8080',
    '125.166.130.87:8080',
    '125.166.122.41:8080',
    '176.120.208.161:8081',
    '180.251.86.171:8080',
    '180.245.58.28:8080',
    '165.227.34.4:1080',
    '190.202.150.186:3128',
    '170.150.239.192:8080',
    '36.76.235.155:3128',
    '118.175.172.255:8080',
    '178.128.106.70:1080',
    '80.87.184.49:41258',
    '60.251.40.84:1080',
    '122.100.92.168:80',
    '118.163.13.200:8080',
    '106.104.12.236:80',
    '61.216.43.102:8080',
    '123.194.231.55:8197',
    '211.21.120.163:8080',
    '211.24.105.248:39784',
    '124.13.201.247:8080',
    '119.237.73.133:3128',
    '203.245.28.120:8080',
    '210.103.3.169:8080',
    '168.131.152.152:3128',
    '218.145.215.150:3128'

    ]
print(len(ip))
headers = {
        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
        'Accept-Encoding': 'gzip, deflate',
        'Accept-Language': 'zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7',
        'Cache-Control': 'max-age=0',
        'Connection': 'keep-alive',
        'Cookie': 'mLang=TC; __auc=e7bcbd7417031ed220b2120a949; NewChart=Mini_Color=1; AAWS2=; DetailChartDisplay=3; AADetailChart=P%7c1y_day%2cT%7c5%2cV%7ctrue%2cB%7c3%2cD%7c1%2cDP%7c10%7e20%7e50%7e100%7e150%2cL1%7c2%7e14%2cL2%7c3%7e12%7e26%7e9%2cL3%7c12%2cCO%7c3%2cCT%7c1%2cCS%7cHSI%2cSP%7chide%2cAHFT%7ctrue; AAWS=; DynamicChart2=CPT=0&CPTS=&CPTM=&P=52&VB=1&CVB=1&CT=candles&T=dark&EP=1&EE=1&EAHFT=1&ES=0&DC=red&SPUP=0&ISQ=0&MI=SMA|10|20|50|100|150&TI1=Volume&TI2=RSI|14&TI3=MACD|12|26|9&TI4=&TI5=&H=300|null|null|null|null|null&ME=1|1|1|1|1&ConfigName=&ConfigID=1; __asc=bdb78e98171026b6ffe756c4909; CookiePolicyCheck=0; MasterSymbol=00228; LatestRTQuotedStocks=00788%3B03323%3B02282%3B00228; __utmc=177965731; __utmc=81143559; AALTP=1; aa_cookie=219.78.57.106_50181_1584884468; __utma=177965731.530051348.1581385589.1584883528.1584888005.25; __utmz=177965731.1584888005.25.3.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); __utma=81143559.657242277.1581385604.1584883551.1584888005.23; __utmz=81143559.1584888005.23.23.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); AALTP=1; __utmb=177965731.3.10.1584888005; __utmt_b=1; __utmb=81143559.3.10.1584888005',
        'DNT': '1',
        'Host': 'www.aastocks.com',
        'Referer': 'http://www.aastocks.com/tc/',
        'Upgrade-Insecure-Requests': '1',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36'
    
} 
proxie = {
    'http':'http://'+ip[random.randint(0,len(ip)-1)]
}


a1 = 'http://www.nkut.edu.tw/front/News/news.php?ID=bmt1dF9tYWluJk5ld3M=&Sn=1202'
a2 = 'http://www.nkut.edu.tw/front/News/news.php?ID=bmt1dF9tYWluJk5ld3M=&Sn=1203'
ii = 0
while True:
    url = a1 if random.randint(0,1) == 1 else a2
    proxie = {
        'http':'http://'+ip[random.randint(0,len(ip)-1)]
    }
    kk = proxie
    try:
        res = requests.get(url,headers=headers,proxies = kk,timeout=10)
        time.sleep(30)
    except:print('IP問題:%s'%(kk['http']))
    
    ii +=1
    print(ii)